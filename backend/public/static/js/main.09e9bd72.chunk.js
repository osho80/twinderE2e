(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{133:function(e,t,a){e.exports=a(207)},142:function(e,t,a){},143:function(e,t,a){},191:function(e,t){},207:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(10),c=a.n(s),i=a(20),o=(a(142),a(22)),l=a(29),u=Object(l.a)(),m=(a(143),a(12)),p=a(13),d=a(15),g=a(14),h=a(4),f=a.n(h),v=a(8),b=a(118),E=a.n(b).a.create({withCredentials:!0}),y=function(e,t){return j(e,"GET",t)},w=function(e,t){return j(e,"POST",t)},O=function(e,t){return j(e,"PUT",t)},C=function(e,t){return j(e,"DELETE",t)};function j(e){return N.apply(this,arguments)}function N(){return(N=Object(v.a)(f.a.mark((function e(t){var a,n,r,s=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:"get",n=s.length>2&&void 0!==s[2]?s[2]:null,e.prev=2,e.next=5,E({url:"".concat("/api/").concat(t),method:a,data:n});case 5:return r=e.sent,e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(2),console.log("Had Issues ".concat(a,"ing to the backend, endpoint: ").concat(t,", with data: ").concat(n)),console.dir(e.t0),e.t0.response&&401===e.t0.response.status&&u.push("/login"),e.t0;case 15:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var x={getMatches:function(e){var t="?loggedInUserId=".concat(e);return y("match/".concat(t))},getById:function(e){return y("match/".concat(e))},openMatch:function(e,t){return w("match/openmatch",{loggedInUserId:e,matchId:t})},addMsg:function(e,t,a){return w("match/addMsg",{loggedInUser:e,msgTxt:t,matchId:a})}};function k(e){return function(){var t=Object(v.a)(f.a.mark((function t(a){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.getMatches(e);case 3:n=t.sent,r=n.reverse(),a(I(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("matchActions: err in loadMatches",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function U(e){return function(){var t=Object(v.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.getById(e);case 3:n=t.sent,a(A(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("matchActions: err in loadMatch",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function S(){return function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"CLOSE_CHAT"})}catch(a){console.log("matchActions: err in closeChat",a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function I(e){return{type:"SET_MATCHES",matches:e}}function A(e){return{type:"SET_MATCH",match:e}}function P(e){return{type:"UPDATE_MATCH",match:e}}function M(e,t){return{type:"MSG_ADD",data:{msg:e,matchId:t}}}var T=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.closeChat()}},{key:"render",value:function(){return r.a.createElement("section",{className:"home-page"},r.a.createElement("article",{className:"main-header flex align-center column"},r.a.createElement("h2",null,"Post Your Love"),r.a.createElement("h2",null,"Find Your Match")),r.a.createElement("article",{className:"action-call"},r.a.createElement("h3",null,"Signup and join our incredible community"),r.a.createElement("h3",null,"thousands of amazing people are just a click away...")))}}]),a}(n.Component),_={closeChat:S},D=Object(i.b)((function(e){return{user:e.userStore.currUser,loggedUser:e.userStore.loggedInUser}}),_)(T),R=a(34),B=a(5),L=a(44);function H(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}var G={login:function(e){return V.apply(this,arguments)},logout:function(){return J.apply(this,arguments)},signup:function(e){return F.apply(this,arguments)},getUsers:function(e){var t="?city=".concat(e.city,"&minAge=").concat(e.minAge,"&maxAge=").concat(e.maxAge,"&gender=").concat(e.gender);return y("user/".concat(t))},getById:function(e){return y("user/".concat(e))},remove:function(e){return C("user/".concat(e))},update:function(e){return O("user/".concat(e._id),e)},addReaction:function(e,t,a){return K.apply(this,arguments)},addPost:function(e,t){return w("user/addpost",{loggedInUserId:e,postTxt:t})},uploadImg:function(e){var t="https://api.cloudinary.com/v1_1/".concat("ddavidson","/image/upload"),a=new FormData;return a.append("file",e),a.append("upload_preset","wdyr4hpo"),fetch(t,{method:"POST",body:a}).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))},addImg:function(e,t){return w("user/addimg",{loggedInUserId:e,imgUrl:t})}};function V(){return(V=Object(v.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("auth/login",t);case 2:return a=e.sent,e.abrupt("return",W(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(v.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("auth/signup",t);case 2:return a=e.sent,e.abrupt("return",W(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}function K(){return(K=Object(v.a)(f.a.mark((function e(t,a,n){var r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={id:H(4),to:a,type:n,timestamp:Date.now()},s={loggedInUserId:t,newReaction:r},e.abrupt("return",w("user/addreaction",s));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X,Y=a(119),q=a.n(Y),z={setup:Q,terminate:Z,on:function(e,t){X.on(e,t)},off:$,emit:ee,runSockets:function(e){Q(),ee("login",e)},killSocket:function(){$("new match"),$("check match"),$("sending msg"),$("user added post"),$("post added"),Z()}};function Q(){X=q()("/")}function Z(){X=null}function $(e,t){X.off(e,t)}function ee(e,t){X.emit(e,t)}function te(e){return function(){var t=Object(v.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.getUsers(e);case 3:n=t.sent,a(de(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("userActions: err in loadUsers",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function ae(e){return function(){var t=Object(v.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.getById(e);case 3:n=t.sent,a(pe(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("userActions: err in loadUser",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function ne(e){return function(){var t=Object(v.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.update(e);case 3:a(ge(e)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("userActions: err in updateUser",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}function re(e){return function(){var t=Object(v.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.login(e);case 2:n=t.sent,a(ue(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function se(e){return function(){var t=Object(v.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.update(e);case 3:sessionStorage.setItem("user",JSON.stringify(e)),a(me(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("userActions: err in updateLoggedInUser",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function ce(e){return function(){var t=Object(v.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.signup(e);case 2:n=t.sent,a(ue(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function ie(){return z.killSocket(),function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.logout();case 2:t({type:"LOGGEDIN_USER_REMOVE"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function oe(e,t,a){return function(){var n=Object(v.a)(f.a.mark((function n(r){var s;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,G.addReaction(e,t,a);case 3:s=n.sent,"like"===a&&z.emit("check match",s),r(he(s)),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log("userActions: err in addReaction",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}function le(e,t){return function(){var a=Object(v.a)(f.a.mark((function a(n){var r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,G.addPost(e,t);case 3:r=a.sent,z.emit("user added post",{loggedInUserId:e}),n(fe(r)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("userActions: err in addPost",a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}function ue(e){return{type:"SET_LOGGEDIN_USER",user:e}}function me(e){return{type:"LOGGEDIN_USER_UPDATE",user:e}}function pe(e){return{type:"SET_USER",user:e}}function de(e){return{type:"SET_USERS",users:e}}function ge(e){return{type:"UPDATE_USER",user:e}}function he(e){return{type:"ADD_REACTIONS",newReaction:e}}function fe(e){return{type:"ADD_POST",post:e}}var ve=a(239),be=a(236),Ee=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loginCred:{email:"johns@gmail.com",password:"j1234"},msg:""},e.loginHandleChange=function(t){var a=t.target,n=a.name,r="number"===a.type?parseInt(a.value):a.value;e.setState((function(e){return{loginCred:Object(B.a)(Object(B.a)({},e.loginCred),{},Object(R.a)({},n,r))}}))},e.handleKeyPress=function(t){"Enter"===t.key&&e.doLogin()},e.doLogin=Object(v.a)(f.a.mark((function t(){var a,n,r,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.loginCred,n=a.email,r=a.password,n&&r){t.next=3;break}return t.abrupt("return",e.setState({msg:"Please enter user/password"}));case 3:return s={email:n,password:r},t.next=6,e.props.login(s);case 6:return t.next=8,e.props.loadMatches(e.props.loggedInUser._id);case 8:e.props.history.push("/encounter");case 9:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state.msg;return r.a.createElement("div",{className:"login-container"},r.a.createElement("h1",null,"Login"),r.a.createElement("section",{className:"login-form flex column align-center",onKeyPress:this.handleKeyPress},r.a.createElement(ve.a,{id:"standard-textarea",label:"Email",name:"email",value:this.state.loginCred.email,multiline:!0,onChange:this.loginHandleChange}),r.a.createElement(ve.a,{id:"standard-password-input",label:"Password",type:"password",name:"password",value:this.state.loginCred.password,onChange:this.loginHandleChange,autoComplete:"current-password"}),e&&e,r.a.createElement(L.a,{to:"/signup",className:"sign-up-link"},"New Member? Sign up"),r.a.createElement(be.a,{variant:"contained",onClick:this.doLogin},"Login")))}}]),a}(n.Component),ye={login:re,logout:ie,signup:ce,loadUsers:te,loadMatches:k},we=Object(i.b)((function(e){return{users:e.userStore.users,loggedInUser:e.userStore.loggedInUser}}),ye)(Ee),Oe=a(36),Ce=a(238),je=a(241),Ne=a(240),xe=a(237),ke=a(67),Ue=a.n(ke),Se=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={signupCred:{fullName:"",gender:"",city:"",age:"",email:"",password:"",imagesUrls:[],userPrefs:{minAge:"",maxAge:"",gender:"",city:""}},msg:""},e.signupHandleChange=function(t){var a=t.target,n=a.name,r="number"===a.type&&""!==a.value?parseInt(a.value):a.value;e.setState((function(e){return{signupCred:Object(B.a)(Object(B.a)({},e.signupCred),{},Object(R.a)({},n,r))}}))},e.signupPrefsHandleChange=function(t){var a=t.target,n=a.name,r="number"===a.type&&""!==a.value?parseInt(a.value):a.value;e.setState((function(e){return{signupCred:Object(B.a)(Object(B.a)({},e.signupCred),{},{userPrefs:Object(B.a)(Object(B.a)({},e.signupCred.userPrefs),{},Object(R.a)({},n,r))})}}))},e.onImgUpload=function(t){var a=t.target;Object.values(a.files).forEach(function(){var t=Object(v.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.uploadImg(a);case 2:n=t.sent,e.setState((function(e){return{signupCred:Object(B.a)(Object(B.a)({},e.signupCred),{},{imagesUrls:[].concat(Object(Oe.a)(e.signupCred.imagesUrls),[n.url])})}}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},e.doSignup=Object(v.a)(f.a.mark((function t(){var a,n,r,s,c,i,o,l,u,m;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.signupCred,n=a.fullName,r=a.gender,s=a.city,c=a.email,i=a.age,o=a.password,l=a.imagesUrls,u=a.userPrefs,n&&r&&s&&c&&o&&u){t.next=3;break}return t.abrupt("return",e.setState({msg:"All inputs are required!"}));case 3:m={fullName:n,gender:r,city:s,age:i,email:c,password:o,imagesUrls:l,userPrefs:u},e.props.signup(m),e.setState({signupCred:{fullName:"",gender:"",city:"",age:"",email:"",password:"",imagesUrls:"",userPrefs:""}}),e.props.history.push("/encounter");case 7:case"end":return t.stop()}}),t)}))),e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state.msg;return r.a.createElement("div",{className:"signup-container"},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:this.doSignup,className:"sign-up-form flex column align-center"},r.a.createElement(ve.a,{id:"standard-textarea",label:"Full Name",type:"text",name:"fullName",value:this.state.signupCred.fullName,multiline:!0,onChange:this.signupHandleChange}),r.a.createElement(ve.a,{id:"standard-number",label:"Age",type:"number",name:"age",value:this.state.signupCred.age,onChange:this.signupHandleChange}),r.a.createElement(Ne.a,{id:"demo-simple-select-label-gender"},"Gender"),r.a.createElement(Ce.a,{labelId:"demo-simple-select-label-gender",id:"demo-simple-select",name:"gender",onChange:this.signupHandleChange},r.a.createElement(je.a,{value:"male"},"Male"),r.a.createElement(je.a,{value:"female"},"Female")),r.a.createElement(Ne.a,{id:"demo-simple-select-label-city"},"City"),r.a.createElement(Ce.a,{labelId:"demo-simple-select-label-city",id:"demo-simple-select",name:"city",onChange:this.signupHandleChange},r.a.createElement(je.a,{value:"Tel-Aviv"},"Tel-Aviv"),r.a.createElement(je.a,{value:"Jerusalem"},"Jerusalem")),r.a.createElement(ve.a,{id:"standard-textarea",label:"Email",name:"email",type:"email",value:this.state.signupCred.email,multiline:!0,onChange:this.signupHandleChange}),r.a.createElement(ve.a,{id:"standard-password-input",label:"Password",type:"password",name:"password",value:this.state.signupCred.password,onChange:this.signupHandleChange,autoComplete:"current-password"}),r.a.createElement("input",{accept:"image/*",id:"icon-button-file",type:"file",name:"imagesUrls",multiple:!0,onChange:this.onImgUpload,hidden:!0}),r.a.createElement("label",{htmlFor:"icon-button-file",className:"img-upload-lable",title:"Upload your images"},r.a.createElement(xe.a,{color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(Ue.a,null))),r.a.createElement("h2",null,"Prefs:"),r.a.createElement(ve.a,{id:"standard-number",label:"Min-Age",type:"number",name:"minAge",value:this.state.signupCred.userPrefs.minAge,onChange:this.signupPrefsHandleChange}),r.a.createElement(ve.a,{id:"standard-number",label:"Max-Age",type:"number",name:"maxAge",value:this.state.signupCred.userPrefs.maxAge,onChange:this.signupPrefsHandleChange}),r.a.createElement(Ne.a,{id:"demo-simple-select-label-gender"},"Gender"),r.a.createElement(Ce.a,{labelId:"demo-simple-select-label-gender",id:"demo-simple-select",name:"gender",onChange:this.signupPrefsHandleChange},r.a.createElement(je.a,{value:"male"},"Male"),r.a.createElement(je.a,{value:"female"},"Female")),r.a.createElement(Ne.a,{id:"demo-simple-select-label-city"},"City"),r.a.createElement(Ce.a,{labelId:"demo-simple-select-label-city",id:"demo-simple-select",name:"city",onChange:this.signupPrefsHandleChange},r.a.createElement(je.a,{value:"Tel-Aviv"},"Tel-Aviv"),r.a.createElement(je.a,{value:"Jerusalem"},"Jerusalem")),e&&e,r.a.createElement(be.a,{className:"sign-up-btn",variant:"contained",onClick:this.doSignup},"Signup")))}}]),a}(n.Component),Ie={signup:ce},Ae=Object(i.b)((function(e){return{users:e.userStore.users,loggedInUser:e.userStore.loggedInUser}}),Ie)(Se),Pe=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={about:"vision",developer:null,isDetails:!1},e.onToggleAbout=function(){"vision"===e.state.about?e.setState({about:"team"}):e.setState({about:"vision"})},e.onToggleDeveloper=function(t){e.setState({developer:t}),e.setState({isDetails:!0})},e.onToggleDetails=function(){e.setState({isDetails:!1})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.about,n=t.developer,s=t.isDetails;return r.a.createElement("section",{className:"about-main"},"vision"===a?r.a.createElement("h2",{className:"about-toggle",onClick:this.onToggleAbout},"Our Vision"):r.a.createElement("h2",{className:"about-toggle",onClick:this.onToggleAbout},"Our Team"),"vision"===a&&r.a.createElement("section",{className:"about-twinder"},r.a.createElement("p",null,"We at Twinder think that dating apps tend to be either superficial or extremely tiresome with page after page of question that don\u2019t really help you find your match."),r.a.createElement("p",null,"The social era has brought us so much and its all being tossed away in the dating apps scene."),r.a.createElement("p",null,"If you share the feeling that you would rather have the possibility for a deeper glance into your possible match\u2019s inner world, come join our community of beautiful and exciting people looking to celebrate life to the fullest."),r.a.createElement("p",null,"Here at Twinder, we believe everyone should be able to introduce themselves as they wish, and not be constrained to a set of question and predefined answers. In Twinder it is easy to post your thoughts, ideas, activities or anything else you think may help others to get to know you better and improve your chances of finding your right match in a way which corresponds to both of your wishes and needs.")),"team"===a&&r.a.createElement("section",{className:"about-developers"},r.a.createElement("div",{className:"developer-preview"},r.a.createElement("div",{className:"member1"},r.a.createElement("img",{className:"member1-img",src:"../assets/images/daniel2.jpeg",alt:"",onClick:function(){return e.onToggleDeveloper("daniel")}}),r.a.createElement("h3",{className:"member1-name"},"Daniel Davidson")),r.a.createElement("div",{className:"member2"},r.a.createElement("img",{className:"member2-img",src:"../assets/images/itay.jpg",alt:"",onClick:function(){return e.onToggleDeveloper("itay")}}),r.a.createElement("h3",null,"Itay Rotshtein")),r.a.createElement("div",{className:"member3"},r.a.createElement("img",{className:"member3-img",src:"../assets/images/Oshri2.jpg",alt:"",onClick:function(){return e.onToggleDeveloper("oshri")}}),r.a.createElement("h3",null,"Oshri Hayke"))),n&&s&&r.a.createElement("section",{className:"developer-details"},r.a.createElement("button",{className:"close-dev-details-modal",onClick:this.onToggleDetails},"X"),"daniel"===n&&r.a.createElement("p",null,"Til Programmer ",r.a.createElement("br",null),"Incharge of Backend wiring ",r.a.createElement("br",null),"Never stops working ",r.a.createElement("br",null),"Will build whatever your company needs...."),"itay"===n&&r.a.createElement("p",null,"Til Programmer ",r.a.createElement("br",null),"Incharge of Backend wiring ",r.a.createElement("br",null),"Never stops working ",r.a.createElement("br",null),"Will build whatever your company needs...."),"oshri"===n&&r.a.createElement("p",null,"Swiper Viper ",r.a.createElement("br",null),"scss bootcamp ",r.a.createElement("br",null),"Never stops working ",r.a.createElement("br",null),"Will build whatever your company needs...."))),"vision"===a?r.a.createElement("h2",{className:"about-toggle",onClick:this.onToggleAbout},"Our Team"):r.a.createElement("h2",{className:"about-toggle",onClick:this.onToggleAbout},"Our Vision"))}}]),a}(n.Component);function Me(e){var t=e.user,a=e.history;return r.a.createElement("article",{className:"user-preview",onClick:function(){return e=t._id,void a.push("/profile/".concat(e));var e}},r.a.createElement("img",{src:t.imagesUrls[0],alt:t.fullName}),r.a.createElement("div",{className:"user-min-info"},r.a.createElement("p",null,t.fullName),r.a.createElement("p",null,t.age),r.a.createElement("p",null," ",t.city)))}var Te=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.loggedInUser;if(!e)return this.props.history.push("/login");this.props.loadUsers(e.userPrefs),this.props.match&&this.props.closeChat()}},{key:"render",value:function(){var e=this.props,t=e.users,a=e.history;return t?r.a.createElement("section",{className:"gallery-container"},t.map((function(e,t){return r.a.createElement(Me,{key:t,user:e,history:a})}))):"Loading..."}}]),a}(n.Component),_e={loadUsers:te,closeChat:S},De=Object(i.b)((function(e){return{users:e.userStore.users,loggedInUser:e.userStore.loggedInUser,match:e.matchStore.currMatch}}),_e)(Te),Re=a(122),Be=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={currProfileIdx:0,imgIdx:0,numOfProfiles:null,isRight:!1,isLeft:!1},e.onPrevImg=function(){var t=e.props.users,a=e.state,n=a.imgIdx,r=t[a.currProfileIdx].imagesUrls.length;n<=0?n=r-1:--n,e.setState({imgIdx:n})},e.onNextImg=function(){var t=e.state,a=t.imgIdx,n=t.currProfileIdx;a>=e.props.users[n].imagesUrls.length-1?a=0:a++,e.setState({imgIdx:a})},e.onReaction=function(t){var a=e.props.users[e.state.currProfileIdx];e.props.addReaction(e.props.loggedInUser._id,a._id,t),e.setEncounter()},e.onViewProfile=function(){var t=e.state.currProfileIdx,a=e.props.users;e.props.history.push("/profile/".concat(a[t]._id))},e.handleSwipe=function(t){var a=e.props.users[e.state.currProfileIdx];t.deltaX>100&&(e.props.addReaction(e.props.loggedInUser._id,a._id,"like"),e.setState({isRight:!0})),t.deltaX<-100&&(e.props.addReaction(e.props.loggedInUser._id,a._id,"dislike"),e.setState({isLeft:!0})),setTimeout((function(){e.setState({isRight:!1,isLeft:!1}),e.setEncounter()}),800)},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.loggedInUser;if(!e)return this.props.history.push("/login");this.props.loadUsers(e.userPrefs)}},{key:"setEncounter",value:function(){var e=this.state.currProfileIdx;this.state.currProfileIdx===this.props.users.length-1?this.setState({imgIdx:0,currProfileIdx:0}):this.setState({imgIdx:0,currProfileIdx:++e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.currProfileIdx,n=t.imgIdx,s=t.isRight,c=t.isLeft,i=this.props.users;return i.length?r.a.createElement("section",{className:"encounter-display"},r.a.createElement("div",{className:"enc-action-zone"},r.a.createElement("div",{className:"enc-nav-btns"},r.a.createElement("img",{className:"enc-right-btn",src:"../assets/images/next.png",alt:"",onClick:this.onNextImg}),r.a.createElement("img",{className:"enc-left-btn",src:"../assets/images/next.png",alt:"",onClick:this.onPrevImg})),r.a.createElement(Re.a,{onSwipe:this.handleSwipe},r.a.createElement("div",{className:"top card flex"},s&&r.a.createElement("span",{className:"reaction yeah"},"YEAP"),c&&r.a.createElement("p",{className:"reaction nope"},"NOPE"),r.a.createElement("img",{className:"currCard ".concat(s?"right":""," ").concat(c?"left":""),src:"".concat(i[a].imagesUrls[n]),alt:"".concat(i[a].fullName)}))),r.a.createElement("div",{className:"enc-yesno-btns"},r.a.createElement("img",{className:"love",src:"../assets/images/heart-circle-pinkier.png",alt:"",onClick:function(){return e.onReaction("like")}}),r.a.createElement("img",{className:"pass",src:"../assets/images/new-x.png",alt:"",onClick:function(){return e.onReaction("dislike")}})),void 0===i[a+1]?"":r.a.createElement("div",{className:"bottom card"},r.a.createElement("img",{src:"".concat(i[a+1].imagesUrls[n]),alt:"".concat(i[a+1].fullName)}))),r.a.createElement("section",{className:"encounter-profile-section flex justify-center align-start column"},r.a.createElement("div",{className:"encounter-profile-overview"},r.a.createElement("div",{className:"enc-profile-basics"},r.a.createElement("h2",null,i[a].fullName,", ",i[a].age," "),r.a.createElement("h3",null,i[a].city))),this.currUser.posts.length?r.a.createElement("div",{className:"enc-post"},r.a.createElement("h4",null,this.currUser.posts[0].txt)):"",r.a.createElement("div",{className:"enc-view-profile"},r.a.createElement("img",{title:"View Profile",src:"../assets/images/view-profile-pinkish.png",alt:"",onClick:this.onViewProfile})))):r.a.createElement("h3",null,"Loading.... ")}},{key:"currUser",get:function(){return this.props.users[this.state.currProfileIdx]}}]),a}(n.Component),Le={loadUser:ae,loadUsers:te,login:re,updateUser:ne,addReaction:oe},He=Object(i.b)((function(e){return{user:e.userStore.currUser,users:e.userStore.users,loggedInUser:e.userStore.loggedInUser}}),Le)(Be),Ge=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),a}(n.Component);function Ve(e){var t=e.user;return r.a.createElement("div",{className:"about-sec flex justify-center  column"},r.a.createElement("div",null,"Looking for ",t.userPrefs.gender),r.a.createElement("div",null," between ",t.userPrefs.minAge," to ",t.userPrefs.maxAge),r.a.createElement("div",null," from ",t.userPrefs.city))}var Fe=a(197);function Je(e){var t=e.user;return r.a.createElement("section",{className:"posts-section"},t.posts.map((function(e,a){return r.a.createElement("div",{key:a,className:"user-post flex justify-center column "},r.a.createElement("section",{className:"flex"},r.a.createElement("div",null,r.a.createElement("img",{className:"mini-img",src:t.imagesUrls[0],alt:"no-img"})),r.a.createElement("div",{className:"flex column"},r.a.createElement("div",{className:"moment"}," ",Fe(e.createdAt).fromNow()),r.a.createElement("div",{className:"post-txt"}," ",e.txt))))})))}a(199);var We=a(123),Ke=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isMyProfile:"",isLike:"",showModal:!1},e.onAddphoto=function(){var t=Object(v.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=a.target,Object.values(n.files).forEach(function(){var t=Object(v.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.uploadImg(a);case 2:n=t.sent,e.props.addImgProfile(e.props.loggedInUser._id,n.url);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getUser=function(){var t=e.props.match.params.id;t?(e.setState({isMyProfile:!1}),e.props.loadUser(t)):e.setState({isMyProfile:!0})},e.onShowModal=function(t){e.setState({showModal:t})},e.onReaction=function(t){var a=e.props.match.params.id;e.props.addReaction(e.props.loggedInUser._id,a,t),e.isLike(t)},e.isLike=function(t){"like"!==t&&e.props.history.push("/gallery")},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.getUser()}},{key:"componentDidUpdate",value:function(e){e.match.params.id!==this.props.match.params.id&&this.getUser()}},{key:"render",value:function(){var e=this,t=this.props.loggedInUser,a=this.state.isMyProfile,n=a?t:this.props.user,s="male"===n.gender?"../assets/images/male.png":"../assets/images/female.png";return n?r.a.createElement("section",{className:"page flex justify-center align-center"},r.a.createElement("section",{className:"user-profile-page flex justify-center align-center"},r.a.createElement("section",{className:"user-profile flex align-center "},r.a.createElement("div",{className:"main-section flex justify-center column"},r.a.createElement(We.Carousel,null,n.imagesUrls.map((function(e,t){return r.a.createElement("img",{key:t,src:e,alt:"no-img"})}))),r.a.createElement("div",{className:"btn-section flex justify-center align-center"},!a&&r.a.createElement("div",{className:"btn-display flex  justify-around  align-center "},r.a.createElement("img",{className:"pass",src:"../assets/images/new-x.png",alt:"",onClick:function(){return e.onReaction("dislike")}}),r.a.createElement("img",{className:"love",src:"../assets/images/heart-circle-pinkier.png",alt:"",onClick:function(){return e.onReaction("like")}})))),r.a.createElement("section",{className:"details-area  flex  justify-start  column"},r.a.createElement("div",{className:"user-detils flex justify-start align-center "},r.a.createElement("div",null,n.fullName),r.a.createElement("img",{className:" gender",src:s}),r.a.createElement("div",null,n.age," from  ",n.city)),r.a.createElement("div",{className:"preferences"},"My Posts"),n?r.a.createElement(Je,{user:n}):r.a.createElement("div",null,"No posts to show  "),r.a.createElement("div",{className:"preferences"},"Preferences"),r.a.createElement("div",{className:"about"},r.a.createElement(Ve,{user:n})),a&&r.a.createElement("div",{className:"user-btns flex"},r.a.createElement("div",{className:"edit-btn",title:"Edit Profile"},r.a.createElement("img",{className:"edit-profile",src:"../assets/images/edit-profile-pinkish.png",alt:"",onClick:function(){return e.props.history.push("/editprofile")}})),r.a.createElement("div",{className:"addPhoto-btn"},r.a.createElement("input",{accept:"image/*",id:"icon-button-file",type:"file",name:"profileImg",multiple:!0,onChange:this.onAddphoto,hidden:!0}),r.a.createElement("label",{htmlFor:"icon-button-file",className:"img-upload-lable",title:"Upload image"},r.a.createElement(xe.a,{color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(Ue.a,null))))))))):r.a.createElement("div",null,"Loding")}}]),a}(n.Component),Xe={loadUsers:te,loadUser:ae,updateUser:ne,login:re,addReaction:oe,updateLoggedInUser:se,addImgProfile:function(e,t){return function(){var a=Object(v.a)(f.a.mark((function a(n){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,G.addImg(e,t);case 3:n({type:"ADD_USER_IMG",img:t}),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),console.log("userActions: err in addImgProfile",a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(e){return a.apply(this,arguments)}}()}},Ye=Ke=Object(i.b)((function(e){return{user:e.userStore.currUser,loggedInUser:e.userStore.loggedInUser}}),Xe)(Ke);function qe(e){var t=e.loggedInUser,a=e.targetUser,n=e.match,s=e.onOpenMatch;return r.a.createElement("article",{className:"match-prev ".concat(function(e,t){for(var a in t)if("user1"===a){if(t[a].id===e._id)return t[a].isOpenNotification}else if("user2"===a&&t[a].id===e._id)return t[a].isOpenNotification}(t,n)?"":"match-prev-active"),onClick:function(){return s(n._id)}},r.a.createElement("div",{className:"match-prev-info flex"},r.a.createElement("img",{className:"mini-img",src:a.imageUrl,alt:"no-img"}),r.a.createElement("p",null,a.name)),n.msgs.length?r.a.createElement("p",{className:"match-prev-msg"},n.msgs[n.msgs.length-1].from,": ",n.msgs[n.msgs.length-1].txt):"")}function ze(e){var t=e.matches,a=e.loggedInUser,n=e.onOpenMatch;function s(e,t){for(var a in e)if("user1"===a){if(e[a].name!==t.fullName)return e[a]}else if("user2"===a&&e[a].name!==t.fullName)return e[a]}return r.a.createElement("section",{className:"match-list"},t.map((function(e,t){return r.a.createElement(qe,{key:"match-".concat(t),loggedInUser:a,targetUser:s(e,a),match:e,onOpenMatch:n})})))}var Qe=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isProfileBtnActive:!1,isMatchBtnActive:!1,isAddPostActive:!1,view:"encounter",isEncounter:!0,isNewMatch:null},e.setUpNavbar=Object(v.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.getById(e.props.loggedInUser._id);case 2:a=t.sent,z.runSockets(a),e.props.setLoggedinUser(a),e.props.loadMatches(e.props.loggedInUser._id),z.on("new match",(function(t){e.props.loadMatches(e.props.loggedInUser._id),e.onNewMatch(t)})),z.on("post added",(function(t){var a=t.userId;e.props.loadUser(a)}));case 8:case"end":return t.stop()}}),t)}))),e.onNewMatch=function(t){console.log("Matched made in heaven...",t);var a=e.getMatchName(t);console.log("Matched made with...",a),e.setState({isNewMatch:a}),setTimeout((function(){e.setState({isNewMatch:null})}),1200)},e.onClickGoHomePage=function(){e.props.history.push("/")},e.onClickProfileBtn=function(){e.setState((function(e){return{isProfileBtnActive:!e.isProfileBtnActive,isMatchBtnActive:!1}}))},e.onClickMatchBtn=function(){e.setState((function(e){return{isMatchBtnActive:!e.isMatchBtnActive,isProfileBtnActive:!1}}))},e.onToggleView=function(){e.state.isEncounter?(e.props.history.push("/gallery"),e.setState({isEncounter:!1})):(e.props.history.push("/encounter"),e.setState({isEncounter:!0}))},e.onOpenMatchChat=function(t){"/gallery"!==window.location.pathname&&(e.setState({isMatchBtnActive:!1}),e.props.openMatch(e.props.loggedInUser._id,t),e.props.loadMatch(t))},e.onAddPostBtn=function(){e.setState((function(e){return{isAddPostActive:!e.isAddPostActive}}),(function(){"/addpost"===window.location.pathname?e.props.history.push("/profile"):e.props.history.push("/addpost")}))},e.onOpenMyProfile=function(){e.setState({isProfileBtnActive:!1})},e.onLogOut=function(){e.props.logout(),e.setState({isProfileBtnActive:!1})},e.getMatchName=function(t){var a,n=e.props.loggedInUser;for(var r in t)"user1"===r?t[r].name!==n.fullName&&(a=a=t[r].name):"user2"===r&&t[r].name!==n.fullName&&(a=t[r].name);return a},e.onGoLogin=function(t){e.props.history.push("/".concat(t))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.loggedInUser&&this.setUpNavbar()}},{key:"componentDidUpdate",value:function(e){this.props.loggedInUser!==e.loggedInUser&&this.props.loggedInUser&&!e.loggedInUser&&this.setUpNavbar()}},{key:"render",value:function(){var e=this,t=this.props,a=t.matches,n=t.loggedInUser,s=this.state,c=s.isProfileBtnActive,i=s.isMatchBtnActive,o=s.isEncounter,l=s.isNewMatch;return r.a.createElement("section",{className:"navbar flex space-between align-center"},r.a.createElement("div",{className:"logo",onClick:this.onClickGoHomePage},"T",r.a.createElement("span",null,"w"),"inder"),!n&&r.a.createElement("div",{className:"nav-login flex justify-end align-center"},r.a.createElement("img",{className:"get-started-btn",title:"Get Started",src:"../assets/images/get-started2.png",alt:"",onClick:function(){return e.onGoLogin("encounter")}}),r.a.createElement("img",{className:"login-btn",title:"Login / Signup",src:"../assets/images/login7.png",alt:"",onClick:function(){return e.onGoLogin("login")}})),n&&r.a.createElement("div",{className:"navbar-nav flex space-between"},"/"!==window.location.pathname&&r.a.createElement("img",{className:"add-post-btn2",title:"Add Post",src:"../assets/images/add3.png",alt:"",onClick:this.onAddPostBtn}),o&&r.a.createElement("img",{className:"nav-gallery-btn",src:"../assets/images/gallery-icon.png",alt:"",onClick:this.onToggleView}),!o&&r.a.createElement("img",{className:"nav-encounter-btn",src:"../assets/images/playing_cards.png",alt:"",onClick:this.onToggleView}),r.a.createElement("div",{className:"option-btn flex space-between"},r.a.createElement("article",null,r.a.createElement("img",{className:"nav-match-btn",src:this.matchCnt>0?"../assets/images/match-full.png":"../assets/images/match.png",alt:"",onClick:this.onClickMatchBtn}),this.matchCnt>0&&r.a.createElement("span",{title:"New matches!",className:"match-count"},this.matchCnt," "),i&&a.length&&r.a.createElement(ze,{matches:a,loggedInUser:n,onOpenMatch:this.onOpenMatchChat})),r.a.createElement("button",{className:"nav-profile-btn",onClick:this.onClickProfileBtn},r.a.createElement("img",{className:"mini-img",src:n.imagesUrls[0],alt:""})),c&&r.a.createElement("div",{className:"profile-dropdown navbar-modal flex column align-center"},r.a.createElement("img",{className:"arrow-menu",src:"../assets/images/menu-arrow.png",alt:""}),r.a.createElement(L.a,{to:"/profile",className:"link",onClick:this.onOpenMyProfile},"Profile"),r.a.createElement(L.a,{to:"/",className:"link",onClick:this.onLogOut},"Logout"),r.a.createElement(L.a,{to:"/about",className:"navbar-about link"},"About"))),n&&"/"!==window.location.pathname&&r.a.createElement("img",{className:"go-back-btn",src:"../assets/images/go-back3.png",alt:"",onClick:function(){return e.props.history.goBack()}})),l&&r.a.createElement("div",{className:"new-match"},r.a.createElement("h2",null,"NEW MATCH WITH "),r.a.createElement("h2",null,l),r.a.createElement("h3",null,"Start chatting and discover someone new")))}},{key:"matchCnt",get:function(){var e=this.props,t=e.matches,a=e.loggedInUser;return t.reduce((function(e,t){return e=t.user1.id===a._id?t.user1.isOpenNotification?e:e+1:t.user2.isOpenNotification?e:e+1}),0)}}]),a}(n.Component),Ze={loadMatches:k,loadMatch:U,addPost:le,loadUsers:te,loadUser:ae,setLoggedinUser:function(e){return function(t){sessionStorage.setItem("user",JSON.stringify(e)),t(ue(e))}},logout:ie,openMatch:function(e,t){return function(){var a=Object(v.a)(f.a.mark((function a(n){var r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,x.openMatch(e,t);case 3:r=a.sent,n(P(r)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log("matchActions: err in openMatch",a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},activeBgScreen:function(){return function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"ACTIVE_BG_SCREEN"})}catch(a){console.log("userActions: err in activeBgScreen",a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},closeBgScreen:function(){return function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"CLOSE_BG_SCREEN"})}catch(a){console.log("userActions: err in closeBgScreen",a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},$e=Object(i.b)((function(e){return{matches:e.matchStore.matches,match:e.matchStore.currMatch,newMatchCnt:e.matchStore.newMatchCnt,users:e.userStore.users,loggedInUser:e.userStore.loggedInUser}}),Ze)(Qe),et=(a(205),a(68)),tt=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={isChatVisible:!0,msgTxt:"",isEmojiesShown:!1,emojis:[]},n.onHandleMsgChange=function(e){var t=e.target;n.setState({msgTxt:t.value})},n.onSendMsg=Object(v.a)(f.a.mark((function e(){var t,a,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.loggedInUser,a=n.state.msgTxt,r=n.props.match,e.next=5,n.props.addMsg(t,a,r._id);case 5:s=n.targetUser.id,n.setState({msgTxt:""}),z.emit("chat newMsg",{targetUserId:s});case 8:case"end":return e.stop()}}),e)}))),n.onClickHideChat=function(){n.setState((function(e){return{isChatVisible:!e.isChatVisible}}))},n.onClickCloseChat=function(){n.props.closeChat()},n.getTimeDate=function(e){return function(e){var t=new Date(e);return("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+" "+("0"+t.getDate()).slice(-2)+"/"+("0"+(t.getMonth()+1)).slice(-2)+"/"+t.getFullYear()}(e)},n.handleKeyPress=function(e){"Enter"===e.key&&n.onSendMsg()},n.onClickEmojiBtn=function(){n.setState((function(e){return{isEmojiesShown:!e.isEmojiesShown}}))},n.addEmoji=function(e){var t=e.unified.split("-"),a=[];t.forEach((function(e){return a.push("0x"+e)}));var r=String.fromCodePoint.apply(String,a);n.setState({msgTxt:n.state.msgTxt+r})},n.myChat=r.a.createRef(),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.match&&this.props.loadMatch(this.props.match._id)}},{key:"componentDidUpdate",value:function(){var e=this;this.myChat.current&&this.myChat.current.scrollIntoView(),this.props.match&&z.on("new msg",(function(){e.props.loadMatch(e.props.match._id)}))}},{key:"render",value:function(){var e=this,t=this.props.loggedInUser,a=t?this.props.match:"",n=this.state,s=n.isChatVisible,c=n.msgTxt,i=n.isEmojiesShown;return a?r.a.createElement("section",{className:"chat flex column space-between"},r.a.createElement("div",{className:"chat-header flex space-between"},r.a.createElement("div",{className:"chat-header-user-info"},r.a.createElement("img",{className:"mini-img",src:this.targetUser.imageUrl,alt:""}),this.targetUser.name),r.a.createElement("div",{className:"chat-header-btns"},r.a.createElement("button",{className:"hide-chat-btn",onClick:this.onClickHideChat},"-"),r.a.createElement("button",{className:"close-chat-btn",onClick:this.onClickCloseChat},"X"))),s&&r.a.createElement("div",{className:"chat-content flex column align-center space-between justify-end"},r.a.createElement("ul",{className:"chat-msgs"},a.msgs.length?a.msgs.map((function(a,n){return r.a.createElement("li",{key:n,className:a.userId===t._id?"my-msg":"targetUser-msg"},r.a.createElement("div",{className:"msg-info flex space-between align-center"},a.userId===t._id?r.a.createElement("img",{className:"mini-img",src:t.imagesUrls[0],alt:""}):r.a.createElement("img",{className:"mini-img",src:e.targetUser.imageUrl,alt:"no-img"}),e.getTimeDate(a.createdAt)),r.a.createElement("p",{className:"".concat(n)},a.txt))})):"",r.a.createElement("div",{ref:this.myChat}))),s&&r.a.createElement("div",{className:"chat-footer flex column"},r.a.createElement("section",{className:"chat-inputs",onKeyPress:this.handleKeyPress},r.a.createElement(ve.a,{className:"msg-input",id:"standard-textarea",placeholder:"Type a message",onChange:this.onHandleMsgChange,value:c,multiline:!0}),r.a.createElement("span",{className:"emoji-btn",onClick:this.onClickEmojiBtn},"\ud83d\ude03"),i&&r.a.createElement(et.a,{style:{position:"absolute",bottom:"65px",right:"10px"},onSelect:this.addEmoji,showPreview:!1,title:"Twinder"}),r.a.createElement(be.a,{variant:"contained",className:"sendMsg-btn",onClick:this.onSendMsg},"Send")))):""}},{key:"targetUser",get:function(){var e=this.props,t=e.match,a=e.loggedInUser;for(var n in t)if(("user1"===n||"user2"===n)&&t[n].id!==a._id)return t[n];return null}}]),a}(n.Component),at={addMsg:function(e,t,a){return function(){var n=Object(v.a)(f.a.mark((function n(r){var s;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,x.addMsg(e,t,a);case 3:s=n.sent,r(M(s,a)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("matchActions: err in addMsg",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},loadMatches:k,loadMatch:U,closeChat:S},nt=Object(i.b)((function(e){return{match:e.matchStore.currMatch,loggedInUser:e.userStore.loggedInUser}}),at)(tt),rt=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={newPostTxt:"",isEmojiesShown:!1},e.handelPostChange=function(t){var a=t.target;e.setState({newPostTxt:a.value})},e.onAddPost=function(t){t.preventDefault();var a=e.state.newPostTxt,n=e.props.loggedInUser;e.props.addPost(n._id,a),e.props.history.goBack()},e.onClickEmojiBtn=function(){e.setState((function(e){return{isEmojiesShown:!e.isEmojiesShown}}))},e.addEmoji=function(t){console.log("entered");var a=t.unified.split("-"),n=[];a.forEach((function(e){return n.push("0x"+e)}));var r=String.fromCodePoint.apply(String,n);e.setState({newPostTxt:e.state.newPostTxt+r})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state,t=e.isEmojiesShown,a=e.newPostTxt;return this.props.loggedInUser?r.a.createElement("section",{className:"add-post flex column"},r.a.createElement("h1",null,"Add Post"),r.a.createElement(ve.a,{id:"filled-multiline-static",className:"textarea",label:"Post",multiline:!0,rows:10,value:a,placeholder:"What is on your mind ".concat(this.props.loggedInUser.fullName),variant:"filled",onChange:this.handelPostChange}),r.a.createElement("span",{className:"emoji-btn",onClick:this.onClickEmojiBtn},"\ud83d\ude03"),t&&r.a.createElement(et.a,{onSelect:this.addEmoji,showPreview:!1,title:"Twinder"}),r.a.createElement(be.a,{className:"post-btn",variant:"outlined",color:"primary",onClick:this.onAddPost},"Post")):""}}]),a}(n.Component),st={addPost:le},ct=Object(i.b)((function(e){return{loggedInUser:e.userStore.loggedInUser}}),st)(rt),it=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={user:{_id:"",age:"",city:"",email:"",fullName:"",gender:"",imagesUrls:"",isAdmin:"",isBlock:"",joinedAt:"",password:"",posts:"",reactions:"",userPrefs:""}},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;r="number"===t.target.type?parseInt(r):r,e.setState((function(e){return{user:Object(B.a)(Object(B.a)({},e.user),{},Object(R.a)({},n,r))}}))},e.handleFormChange=function(t){var a=t.target,n=a.name,r=a.value;r="number"===t.target.type?parseInt(r):r,e.setState((function(e){return{user:Object(B.a)(Object(B.a)({},e.user),{},{userPrefs:Object(B.a)(Object(B.a)({},e.user.userPrefs),{},Object(R.a)({},n,r))})}}))},e.handleSubmit=function(t){t.preventDefault(),e.props.updateUser(e.state.user),e.props.updateLoggedInUser(e.state.user),e.props.history.push("/profile")},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.loggedUser;this.setState({user:e})}},{key:"render",value:function(){var e=this.state.user,t=e.age,a=e.city,n=e.email,s=e.fullName,c=e.gender,i=e.password,o=e.userPrefs,l=e._id;return r.a.createElement("div",{className:"edit-profile flex column"},r.a.createElement("h2",null," Edit your details"),l&&r.a.createElement("section",{className:"edit-profile-form flex column align-center"},r.a.createElement(ve.a,{id:"standard-textarea",label:"Full Name",type:"text",name:"fullName",value:s,multiline:!0,onChange:this.handleChange}),r.a.createElement(Ne.a,{id:"demo-simple-select-label-gender"},"Gender"),r.a.createElement(Ce.a,{labelId:"demo-simple-select-label-gender",id:"demo-simple-select",name:"gender",value:c,onChange:this.handleChange},r.a.createElement(je.a,{value:"male"},"Male"),r.a.createElement(je.a,{value:"female"},"Female")),r.a.createElement(ve.a,{id:"standard-number",label:"Age",type:"number",name:"age",value:t,onChange:this.handleChange}),r.a.createElement(Ne.a,{id:"demo-simple-select-label-city"},"City"),r.a.createElement(Ce.a,{labelId:"demo-simple-select-label-city",id:"demo-simple-select",name:"city",value:a,onChange:this.handleChange},r.a.createElement(je.a,{value:"Tel-Aviv"},"Tel-Aviv"),r.a.createElement(je.a,{value:"Jerusalem"},"Jerusalem")),r.a.createElement(ve.a,{id:"standard-textarea",label:"Email",name:"email",type:"email",value:n,multiline:!0,onChange:this.handleChange}),r.a.createElement(ve.a,{id:"standard-textarea",label:"New-Password",name:"password",type:"password",value:i,multiline:!0,onChange:this.handleChange}),r.a.createElement("h3",{className:"preference-header"}," My Preference"),r.a.createElement(Ne.a,{id:"demo-simple-select-label-city"},"City"),r.a.createElement(Ce.a,{labelId:"demo-simple-select-label-city",id:"demo-simple-select",name:"city",value:o.city,onChange:this.handleFormChange},r.a.createElement(je.a,{value:"Tel-Aviv"},"Tel-Aviv"),r.a.createElement(je.a,{value:"Jerusalem"},"Jerusalem")),r.a.createElement(Ne.a,{id:"demo-simple-select-label-gender"},"Gender"),r.a.createElement(Ce.a,{labelId:"demo-simple-select-label-gender",id:"demo-simple-select",name:"gender",value:o.gender,onChange:this.handleFormChange},r.a.createElement(je.a,{value:"male"},"Male"),r.a.createElement(je.a,{value:"female"},"Female")),r.a.createElement(ve.a,{id:"standard-number",label:"Max-Age",type:"number",name:"maxAge",value:o.maxAge,onChange:this.handleFormChange}),r.a.createElement(ve.a,{id:"standard-number",label:"Min-Age",type:"number",name:"minAge",value:o.minAge,onChange:this.handleFormChange}),r.a.createElement(be.a,{variant:"contained",onClick:this.handleSubmit},"Save")))}}]),a}(n.Component),ot={updateUser:ne,updateLoggedInUser:se},lt=Object(i.b)((function(e){return{loggedUser:e.userStore.loggedInUser}}),ot)(it);function ut(){return r.a.createElement("section",{className:"footer flex align-center space-between"},r.a.createElement(L.a,{to:"/about",className:"about-link link"},"About"),r.a.createElement("div",null,"\xa9 Twinder International Ltd. 2020"))}var mt=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(o.b,{history:u},r.a.createElement($e,{history:u}),r.a.createElement("section",{className:"main-container"},r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",component:D,exact:!0}),r.a.createElement(o.a,{path:"/about",component:Pe,exact:!0}),r.a.createElement(o.a,{path:"/login",component:we,exact:!0}),r.a.createElement(o.a,{path:"/signup",component:Ae,exact:!0}),r.a.createElement(o.a,{path:"/encounter",component:He,exact:!0}),r.a.createElement(o.a,{path:"/gallery",component:De,exact:!0}),r.a.createElement(o.a,{path:"/admin/dash",component:Ge,exact:!0}),r.a.createElement(o.a,{path:"/profile/:id?",component:Ye,exact:!0}),r.a.createElement(o.a,{path:"/addpost",component:ct,exact:!0}),r.a.createElement(o.a,{path:"/editprofile",component:lt,exact:!0})),r.a.createElement(nt,null)),r.a.createElement(ut,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pt=a(48),dt=a(124),gt={matches:[],currMatch:"",newMatchCnt:0};var ht=sessionStorage.getItem("user"),ft={loggedInUser:ht=ht?JSON.parse(ht):null,users:[],currUser:"",isBgScreenActive:!1};var vt=Object(pt.c)({matchStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_MATCHES":return Object(B.a)(Object(B.a)({},e),{},{matches:t.matches});case"SET_MATCH":return Object(B.a)(Object(B.a)({},e),{},{currMatch:t.match});case"MATCH_REMOVE":return Object(B.a)(Object(B.a)({},e),{},{matches:e.matches.filter((function(e){return e._id!==t.matchId}))});case"MATCH_ADD":return Object(B.a)(Object(B.a)({},e),{},{matches:[t.match].concat(Object(Oe.a)(e.matches))});case"ADD_NEW_MATCH_NOTIFY":return Object(B.a)(Object(B.a)({},e),{},{newMatchCnt:1});case"UPDATE_MATCH":return Object(B.a)(Object(B.a)({},e),{},{matches:e.matches.map((function(e){return e._id===t.match._id?t.match:e}))});case"CLOSE_CHAT":return Object(B.a)(Object(B.a)({},e),{},{currMatch:""});case"MSG_ADD":return Object(B.a)(Object(B.a)({},e),{},{matches:e.matches.map((function(e){return e._id===t.data.matchId&&(e.msgs=[].concat(Object(Oe.a)(e.msgs),[t.data.msg])),e})),currMatch:Object(B.a)(Object(B.a)({},e.currMatch),{},{msgs:[].concat(Object(Oe.a)(e.currMatch.msgs),[t.data.msg])})});default:return e}},userStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_LOGGEDIN_USER":return Object(B.a)(Object(B.a)({},e),{},{loggedInUser:t.user});case"SET_USER":return Object(B.a)(Object(B.a)({},e),{},{currUser:t.user});case"REMOVE_USER":return Object(B.a)(Object(B.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.userId}))});case"LOGGEDIN_USER_REMOVE":return Object(B.a)(Object(B.a)({},e),{},{loggedInUser:""});case"SET_USERS":return Object(B.a)(Object(B.a)({},e),{},{users:t.users});case"UPDATE_USER":return Object(B.a)(Object(B.a)({},e),{},{users:e.users.map((function(e){return e._id===t.user._id?t.user:e}))});case"LOGGEDIN_USER_UPDATE":return Object(B.a)(Object(B.a)({},e),{},{loggedInUser:t.user});case"ADD_REACTIONS":return Object(B.a)(Object(B.a)({},e),{},{loggedInUser:Object(B.a)(Object(B.a)({},e.loggedInUser),{},{reactions:[].concat(Object(Oe.a)(e.loggedInUser.reactions),[t.newReaction])})});case"ADD_POST":return Object(B.a)(Object(B.a)({},e),{},{loggedInUser:Object(B.a)(Object(B.a)({},e.loggedInUser),{},{posts:[t.post].concat(Object(Oe.a)(e.loggedInUser.posts))})});case"ADD_USER_IMG":return Object(B.a)(Object(B.a)({},e),{},{loggedInUser:Object(B.a)(Object(B.a)({},e.loggedInUser),{},{imagesUrls:[t.img].concat(Object(Oe.a)(e.loggedInUser.imagesUrls))})});case"ACTIVE_BG_SCREEN":return Object(B.a)(Object(B.a)({},e),{},{isBgScreenActive:!0});case"CLOSE_BG_SCREEN":return Object(B.a)(Object(B.a)({},e),{},{isBgScreenActive:!1});default:return e}}}),bt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||pt.d,Et=Object(pt.e)(vt,bt(Object(pt.a)(dt.a)));c.a.render(r.a.createElement(i.a,{store:Et},r.a.createElement(mt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[133,1,2]]]);
//# sourceMappingURL=main.09e9bd72.chunk.js.map